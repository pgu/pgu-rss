<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/css/main.css" rel="stylesheet" type="text/css">
</head>

<body>
    <h1>
        Hello pgu!
    </h1>
    <p>
        <button type="button" onclick="fetchFeed('bbc')">BBC</button>
        <button type="button" onclick="fetchFeed('el_diario')">el_diario</button>
        <button type="button" onclick="fetchFeed('le_monde')">le_monde</button>
    </p>
    <p>
        <pre id="feedCard"></pre>
    </p>
    <script>
        async function fetchFeed(feedId) {
            const feedCard = document.querySelector('#feedCard');
            feedCard.innerHTML = '...';

            try {
                const response = await fetch(`./api/feeds/${feedId}`);
                if (response.status !== 200) {
                    feedCard.innerHTML = `Looks like there was a problem. Status Code: ${response.status}`;
                } else {
                    const data = await response.json();
                    feedCard.innerHTML = data;

                }
            } catch (err) {
                console.log('Fetch Error :-S', err);
                feedCard.innerHTML = '>> Error ' + err;
            }
        }


    </script>

</body>

</html>